(()=>{"use strict";const e=window.React,t=window.wp.components,l=window.wp.coreData,o=window.wp.data,n=window.wp.hooks,a=window.wp.htmlEntities,r=window.wp.i18n;(0,n.addFilter)("editor.PostTaxonomyType","hp-alerts/set-alert-level",(n=>s=>{const{slug:p}=s;if("alert_level"!==p)return(0,e.createElement)(n,{...s});const{terms:i,postType:_}=(0,o.useSelect)((e=>{const{getEntityRecords:t}=e(l.store),{getCurrentPostType:o}=e("core/editor");return{terms:t("taxonomy",p,{per_page:-1,orderby:"name",order:"asc",_fields:"id,name",context:"view"})||[],postType:o()}}),[]),h=i.map((e=>({label:(0,a.decodeEntities)(e.name),value:e.id}))),d=[{label:(0,r.__)("Select level","hp-alerts"),value:0},...h],[u,c]=(0,l.useEntityProp)("postType",_,p),[m,w]=(0,l.useEntityProp)("postType",_,"meta"),{_hp_alert_display_through:y}=m;let g;return y&&(g=new Date(1e3*y)),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.SelectControl,{label:(0,r.__)("Alert level","hp-alerts"),multiple:!1,onChange:e=>{0===Number(e)?(w({_hp_alert_display_through:0}),c([])):c([parseInt(e,10)])},options:d,value:u}),0<u.length&&(0,e.createElement)(t.RadioControl,{label:(0,r.__)("Alert expires","hp-alerts"),selected:y?"yes":"no",options:[{label:(0,r.__)("Yes","hp-alerts"),value:"yes"},{label:(0,r.__)("No","hp-alerts"),value:"no"}],onChange:e=>{if("no"===e)w({_hp_alert_display_through:0});else{const e=Math.round((new Date).getTime()/1e3);w({_hp_alert_display_through:e})}}}),0<u.length&&0!==y&&(0,e.createElement)(t.DateTimePicker,{currentDate:g,onChange:e=>{const t=Math.round(new Date(e).getTime()/1e3);w({_hp_alert_display_through:t})},is12Hour:!0,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0}))}))})();